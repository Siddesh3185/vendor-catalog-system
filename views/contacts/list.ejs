<%- include('../partials/header', { title: 'Contacts' }) %>

<div class="page-header">
  <h1>Contacts</h1>
  <div class="controls">
    <input id="tableSearch" class="search-input" placeholder="Search contacts...">
    <a href="/contacts/add" class="btn">Add Contact</a>
  </div>
</div>

<div class="table-wrap">
  <table>
    <thead>
      <tr>
        <th>#</th>
        <th>Name</th>
        <th>Email</th>
        <th>Phone</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% const list = contacts || []; %>
      <% if (list && list.length) { %>
        <% list.forEach((c, idx) => { %>
          <tr>
            <td><%= idx+1 %></td>
            <td><%= c.name %></td>
            <td><%= c.email || '-' %></td>
            <td><%= c.phone || '-' %></td>
            <td class="actions">
              <a href="/contacts/edit/<%= c.id || c._id %>" class="btn ghost">Edit</a>
              <button data-href="/contacts/delete/<%= c.id || c._id %>" data-id="<%= c.id || c._id %>" class="btn-delete delete">Delete</button>
            </td>
          </tr>
        <% }) %>
      <% } else { %>
        <tr><td colspan="5">No contacts found</td></tr>
      <% } %>
    </tbody>
  </table>
</div>

<%- include('../partials/footer') %>
